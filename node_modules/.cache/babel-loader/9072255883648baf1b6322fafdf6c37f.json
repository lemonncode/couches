{"remainingRequest":"/Users/noelia/Documents/git_lemonn/Coach/node_modules/babel-loader/lib/index.js!/Users/noelia/Documents/git_lemonn/Coach/src/store/modules/coaches/actions.js","dependencies":[{"path":"/Users/noelia/Documents/git_lemonn/Coach/src/store/modules/coaches/actions.js","mtime":1644324175828},{"path":"/Users/noelia/Documents/git_lemonn/Coach/babel.config.js","mtime":1598433744000},{"path":"/Users/noelia/Documents/git_lemonn/Coach/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/noelia/Documents/git_lemonn/Coach/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL25vZWxpYS9Eb2N1bWVudHMvZ2l0X2xlbW9ubi9Db2FjaC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbm9lbGlhL0RvY3VtZW50cy9naXRfbGVtb25uL0NvYWNoL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci5jYXVzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICByZWdpc3RlckNvYWNoOiBmdW5jdGlvbiByZWdpc3RlckNvYWNoKGNvbnRleHQsIGRhdGEpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciB1c2VySWQsIGNvYWNoRGF0YSwgcmVzcG9uc2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICB1c2VySWQgPSBjb250ZXh0LnJvb3RHZXR0ZXJzLnVzZXJJZDsKICAgICAgICAgICAgICBjb2FjaERhdGEgPSB7CiAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IGRhdGEuZmlyc3QsCiAgICAgICAgICAgICAgICBsYXN0TmFtZTogZGF0YS5sYXN0LAogICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRhdGEuZGVzYywKICAgICAgICAgICAgICAgIGhvdXJseVJhdGU6IGRhdGEucmF0ZSwKICAgICAgICAgICAgICAgIGFyZWFzOiBkYXRhLmFyZWFzCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goImh0dHBzOi8vdGVzdGNvdWNoLWU0NzQ3LWRlZmF1bHQtcnRkYi5maXJlYmFzZWlvLmNvbS9jb2FjaGVzLyIuY29uY2F0KHVzZXJJZCwgIi5qc29uIiksIHsKICAgICAgICAgICAgICAgIG1ldGhvZDogIlBVVCIsCiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjb2FjaERhdGEpCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAvL2NvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7Ly9lcnJvcgogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoInJlZ2lzdGVyQ29hY2giLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNvYWNoRGF0YSksIHt9LCB7CiAgICAgICAgICAgICAgICBpZDogdXNlcklkCiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbG9hZENvYWNoZXM6IGZ1bmN0aW9uIGxvYWRDb2FjaGVzKGNvbnRleHQsIHBheWxvYWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgcmVzcG9uc2UsIHJlc3BvbnNlRGF0YSwgZXJyb3IsIGNvYWNoZXMsIGtleSwgY29hY2g7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWYgKCEocGF5bG9hZC5mb3JjZVJlZnJlc2ggJiYgY29udGV4dC5nZXR0ZXJzLnNob3VsZFVwZGF0ZSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goImh0dHBzOi8vdGVzdGNvdWNoLWU0NzQ3LWRlZmF1bHQtcnRkYi5maXJlYmFzZWlvLmNvbS9jb2FjaGVzLmpzb24iKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIC8vLi4uCiAgICAgICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IocmVzcG9uc2VEYXRhLm1lc3NhZ2UgfHwgIkZhaWxlZCB0byBmZXRjaCEiKTsKICAgICAgICAgICAgICB0aHJvdyBlcnJvcjsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY29hY2hlcyA9IFtdOwoKICAgICAgICAgICAgICBmb3IgKGtleSBpbiByZXNwb25zZURhdGEpIHsKICAgICAgICAgICAgICAgIGNvYWNoID0gewogICAgICAgICAgICAgICAgICBpZDoga2V5LAogICAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IHJlc3BvbnNlRGF0YVtrZXldLmZpcnN0TmFtZSwKICAgICAgICAgICAgICAgICAgbGFzdE5hbWU6IHJlc3BvbnNlRGF0YVtrZXldLmxhc3ROYW1lLAogICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVzcG9uc2VEYXRhW2tleV0uZGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAgIGhvdXJseVJhdGU6IHJlc3BvbnNlRGF0YVtrZXldLmhvdXJseVJhdGUsCiAgICAgICAgICAgICAgICAgIGFyZWFzOiByZXNwb25zZURhdGFba2V5XS5hcmVhcwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGNvYWNoZXMucHVzaChjb2FjaCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgic2V0Q29hY2hlcyIsIGNvYWNoZXMpOwogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJzZXRGZXRjaFRpbWVzdGFtcCIpOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"sources":["/Users/noelia/Documents/git_lemonn/Coach/src/store/modules/coaches/actions.js"],"names":["registerCoach","context","data","userId","rootGetters","coachData","firstName","first","lastName","last","description","desc","hourlyRate","rate","areas","fetch","method","body","JSON","stringify","response","ok","commit","id","loadCoaches","payload","forceRefresh","getters","shouldUpdate","json","responseData","error","Error","message","coaches","key","coach","push"],"mappings":";;;;;;;;;AAAA,eAAe;AACPA,EAAAA,aADO,yBACOC,OADP,EACgBC,IADhB,EACsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC3BC,cAAAA,MAD2B,GAClBF,OAAO,CAACG,WAAR,CAAoBD,MADF;AAG3BE,cAAAA,SAH2B,GAGf;AAChBC,gBAAAA,SAAS,EAAEJ,IAAI,CAACK,KADA;AAEhBC,gBAAAA,QAAQ,EAAEN,IAAI,CAACO,IAFC;AAGhBC,gBAAAA,WAAW,EAAER,IAAI,CAACS,IAHF;AAIhBC,gBAAAA,UAAU,EAAEV,IAAI,CAACW,IAJD;AAKhBC,gBAAAA,KAAK,EAAEZ,IAAI,CAACY;AALI,eAHe;AAAA;AAAA,qBAUVC,KAAK,uEACqCZ,MADrC,YAE1B;AACEa,gBAAAA,MAAM,EAAE,KADV;AAEEC,gBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAed,SAAf;AAFR,eAF0B,CAVK;;AAAA;AAU3Be,cAAAA,QAV2B;;AAiBjC;AAEA,kBAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB,CAChB;AACD;;AACDpB,cAAAA,OAAO,CAACqB,MAAR,CAAe,eAAf,kCACKjB,SADL;AAEEkB,gBAAAA,EAAE,EAAEpB;AAFN;;AAtBiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0BlC,GA3BY;AA4BPqB,EAAAA,WA5BO,uBA4BKvB,OA5BL,EA4BcwB,OA5Bd,EA4BuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAC9BA,OAAO,CAACC,YAAR,IAAwBzB,OAAO,CAAC0B,OAAR,CAAgBC,YADV;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,qBAKXb,KAAK,oEALM;;AAAA;AAK5BK,cAAAA,QAL4B;AAAA;AAAA,qBAQPA,QAAQ,CAACS,IAAT,EARO;;AAAA;AAQ5BC,cAAAA,YAR4B;;AAAA,kBAS7BV,QAAQ,CAACC,EAToB;AAAA;AAAA;AAAA;;AAUhC;AACMU,cAAAA,KAX0B,GAWlB,IAAIC,KAAJ,CAAUF,YAAY,CAACG,OAAb,IAAwB,kBAAlC,CAXkB;AAAA,oBAY1BF,KAZ0B;;AAAA;AAc5BG,cAAAA,OAd4B,GAclB,EAdkB;;AAelC,mBAAWC,GAAX,IAAkBL,YAAlB,EAAgC;AACxBM,gBAAAA,KADwB,GAChB;AACZb,kBAAAA,EAAE,EAAEY,GADQ;AAEZ7B,kBAAAA,SAAS,EAAEwB,YAAY,CAACK,GAAD,CAAZ,CAAkB7B,SAFjB;AAGZE,kBAAAA,QAAQ,EAAEsB,YAAY,CAACK,GAAD,CAAZ,CAAkB3B,QAHhB;AAIZE,kBAAAA,WAAW,EAAEoB,YAAY,CAACK,GAAD,CAAZ,CAAkBzB,WAJnB;AAKZE,kBAAAA,UAAU,EAAEkB,YAAY,CAACK,GAAD,CAAZ,CAAkBvB,UALlB;AAMZE,kBAAAA,KAAK,EAAEgB,YAAY,CAACK,GAAD,CAAZ,CAAkBrB;AANb,iBADgB;AAS9BoB,gBAAAA,OAAO,CAACG,IAAR,CAAaD,KAAb;AACD;;AACDnC,cAAAA,OAAO,CAACqB,MAAR,CAAe,YAAf,EAA6BY,OAA7B;AACAjC,cAAAA,OAAO,CAACqB,MAAR,CAAe,mBAAf;;AA3BkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4BnC;AAxDY,CAAf","sourcesContent":["export default {\n  async registerCoach(context, data) {\n    const userId = context.rootGetters.userId;\n\n    const coachData = {\n      firstName: data.first,\n      lastName: data.last,\n      description: data.desc,\n      hourlyRate: data.rate,\n      areas: data.areas,\n    };\n    const response = await fetch(\n      `https://testcouch-e4747-default-rtdb.firebaseio.com/coaches/${userId}.json`,\n      {\n        method: \"PUT\",\n        body: JSON.stringify(coachData),\n      }\n    );\n    //const responseData = await response.json();\n\n    if (!response.ok) {\n      //error\n    }\n    context.commit(\"registerCoach\", {\n      ...coachData,\n      id: userId,\n    });\n  },\n  async loadCoaches(context, payload) {\n    if (payload.forceRefresh && context.getters.shouldUpdate) {\n      return;\n    }\n\n    const response = await fetch(\n      `https://testcouch-e4747-default-rtdb.firebaseio.com/coaches.json`\n    );\n    const responseData = await response.json();\n    if (!response.ok) {\n      //...\n      const error = new Error(responseData.message || \"Failed to fetch!\");\n      throw error;\n    }\n    const coaches = [];\n    for (const key in responseData) {\n      const coach = {\n        id: key,\n        firstName: responseData[key].firstName,\n        lastName: responseData[key].lastName,\n        description: responseData[key].description,\n        hourlyRate: responseData[key].hourlyRate,\n        areas: responseData[key].areas,\n      };\n      coaches.push(coach);\n    }\n    context.commit(\"setCoaches\", coaches);\n    context.commit(\"setFetchTimestamp\");\n  },\n};\n"]}]}